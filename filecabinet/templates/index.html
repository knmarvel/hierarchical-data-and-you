{% extends 'base.html' %}
{% load mptt_tags %}
{% block content %}
<h1>Home</h1>
    {% if request.user.is_authenticated %}
        <div class="user-info"><h2>Logged In User Information</h2>
            <b>Username: </b>{{ request.user.username }} <br />
            <a href="/logout/">Logout</a>
            <hr />
            <a href="{% url 'addfile' %}">Add file</a>
    {% else %}
        You need to <a href="{% url 'login' %}">login</a>
    {% endif %}
        </div>
        {% if data %}
        <div class="filefolderdata">
            <h2>Folders and files</h2>
                <ul class="root">
                    {% recursetree data %}
                        <li>
                            {{ node.name }}
                            {% if not node.is_leaf_node %}
                                <ul class="children">
                                    {{ children }}
                                </ul>
                            {% endif %}
                        </li>
                    {% endrecursetree %}
                </ul>
        </div>
        {% endif %}


<br />


{% endblock %} 